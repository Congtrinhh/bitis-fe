<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Home</title>
		<!-- reset css -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
			integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>

		<!-- font -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
			rel="stylesheet"
		/>

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
			rel="stylesheet"
		/>

		<!-- icon -->
		<script src="https://kit.fontawesome.com/ea7e180c34.js" crossorigin="anonymous"></script>

		<!-- local css -->
		<link rel="stylesheet" href="assets/css/common.css" />
		<link rel="stylesheet" href="assets/css/index.css" />
	</head>
	<body>
		<!-- header -->
		<header class="header" id="header">
			<div class="container">
				<a id="logo" href="/"><img src="./assets/images/header-logo.svg" alt="logo" /></a>
				<nav class="navbar" id="navbar">
					<ul class="nav-list">
						<li class="nav-item"><a href="#" class="nav-link">Nhãn hiệu</a></li>
						<li class="nav-item"><a href="#" class="nav-link">Nam</a></li>
						<li class="nav-item"><a href="#" class="nav-link">Nữ</a></li>
					</ul>
				</nav>
				<div class="toolbar">
					<div class="search-wrapper">
						<input type="text" class="search-input" placeholder="Bạn cần tìm gì..." />
						<i class="fa-solid fa-magnifying-glass search-icon"></i>
					</div>
					<div class="buttons">
						<div class="btn btn-user">
							<i class="fa-regular fa-user"></i>
						</div>
						<div class="btn btn-cart">
							<i class="fa-solid fa-bag-shopping"></i>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!-- main -->
		<main class="main-content">
			<!-- hero -->
			<section class="hero" id="heroCarousel">
				<div class="hero-images carousel-items">
					<div class="carousel-item active">
						<img src="./assets/images/bitis-hero.jpg" alt="hero image" class="hero-image" height="750" />
					</div>
					<div class="carousel-item ">
						<img src="https://cdn.hstatic.net/files/1000230642/file/1920x750__3_.png" alt="hero image" class="hero-image" height="750" />
					</div>
					<div class="carousel-item">
						<img src="https://cdn.hstatic.net/files/1000230642/file/1920x750__4_.png" alt="hero image" class="hero-image" height="750" />
					</div>
				</div>
				<div class="hero-buttons" id="carouselDots"></div>
			</section>
			<!-- top products -->
			<section class="top-products">
				<div class="container">
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
					<div class="product-wrapper">
						<div class="img-wrapper"><img src="https://picsum.photos/id/237/200/300" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">Giày Thể Thao Biti's Helio Teen Nam Màu Xanh Dương BSB007400XDG</div>
							<div class="sell-info">
								<div class="price">1.000.000 vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div class="label">Mới</div>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- new products -->
			<section class="new-products"></section>
		</main>
		<!-- banner -->
		<section class="banner">
			<div class="container"></div>
		</section>
		<!-- footer -->
		<footer class="footer" id="footer">
			<div class="container">
				<div class="footer-left">
					<div class="title">Thông tin</div>
					<div class="list">
						<div class="list-item"><a href="" class="link">Về Biti's</a></div>
						<div class="list-item"><a href="" class="link">Chính sách đổi trả</a></div>
						<div class="list-item"><a href="" class="link">Chính sách bảo hành</a></div>
						<div class="list-item"><a href="" class="link">Hướng dẫn mua hàng</a></div>
						<div class="list-item"><a href="" class="link">Liên hệ</a></div>
					</div>
				</div>
				<div class="footer-right">
					<div class="logo-wrapper"><img src="./assets/images/header-logo.svg" alt="logo" /></div>
					<div class="company-wrapper">
						<div class="company-name">Công ty TNHH Biti's</div>
						<div class="company-address">123 Đường ABC, Phường 1, Quận 1, TP. HCM</div>
						<a href="tel:0123456789" class="phone-number">0123 456 789</a></div>
					<div class="email">Email:Liên hệ các vấn đề về đơn hàng Online, kênh cửa hàng, đại lý (offline) : <a href="mailto:chamsockhachhang@bitis.com.vn">chamsockhachhang@bitis.com.vn</a></div>
					<div class="hotline-support-wrapper">
						<div class="hotline"><b>Hotline</b>: <a href="tel:1800 6018" >1800 6018</a></div>
						<div class="time"> <b>Thời gian tư vấn</b>: 8h – 21h30 các ngày trong tuần (trừ ngày Lễ, Tết)</div>
					</div>
					</div>
				</div>
			</div>
		</footer>

		<script>

			// vẽ dot
			//lấy số lượng ảnh
			const carouselContainer = document.getElementById('heroCarousel');
			const carouselItems = carouselContainer.querySelectorAll('.carousel-item');
			const totalItems = carouselItems.length;

			const dotContainer = document.getElementById('carouselDots');
			for(let i=0; i<totalItems; i++) {
				const dot = document.createElement('div');
				dot.classList.add('dot');
				if (i===0) {
					dot.classList.add('active');
				}

				//lắng nghe sk dot click
				dot.addEventListener('click', () => {
					goToSlide(i);
				})

				dotContainer.appendChild(dot);
			}

			const goToSlide = (index) => {
			
				//reset active class
				carouselItems.forEach(item => item.classList.remove('active'));
				const dots = dotContainer.querySelectorAll('.dot');
				dots.forEach(dot => dot.classList.remove('active'));
				// set active class cho item
				carouselItems[index].classList.add('active');
				dots[index].classList.add('active');
			}

			setInterval(() => {
				autoPlay();
			}, 3000);

			// auto play
			const autoPlay = () => 
			{
				//find current active index
				const currentIndex = Array.from(carouselItems).findIndex(item => item.classList.contains('active'));
				let targetIndex = currentIndex + 1;
				// set next index to active
				if (targetIndex >= totalItems) {
					targetIndex = 0;
				}
				goToSlide(targetIndex);
			}

			const loadProducts = async (pageSize=10, pageIndex=0) => {
				try {
					const response = await fetch('./data/products.json');
					if (!response.ok) {
						throw new Error('Network response was not ok');
					}
					const products = await response.json();

					products.forEach(product => appendProduct(product));

					console.log(products);
				} catch (error) {
					console.error('There has been a problem with your fetch operation:', error);
				}
			}
			const appendProduct = (product) => {
				// get container
				const container = document.querySelector('.top-products > .container');
				const template = `<div class="product-wrapper">
						<div class="img-wrapper"><img src="${product.image}" alt="" /></div>
						<div class="product-info">
							<div class="size-color">
								<div class="size">1 Size</div>
								<div class="color">1 Màu sắc</div>
							</div>
							<div class="name">${product.name}</div>
							<div class="sell-info">
								<div class="price">${product.price.toLocaleString()} vnd</div>
								<div class="sold">Đã bán: 200</div>
							</div>
							<div class="icons">
								<div style="display: ${product.category === 'new' ? 'flex' : 'none'}" class="label">Mới</div>
							</div>
						</div>
					</div>`;
				container.innerHTML += template;
			}
			 loadProducts();

		</script>
	</body>
</html>
